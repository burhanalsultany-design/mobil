<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø¥Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…</title>
<style>
:root{--accent:#1e90ff;--accent-dark:#1565c0;--bg1:#e6f2ff;--card:#ffffff}
body{font-family:Tahoma,Arial,Helvetica,sans-serif;background:linear-gradient(180deg,var(--bg1),#d6ecff);margin:0;padding:20px;color:#222}
.wrap{max-width:980px;margin:18px auto;padding:18px;background:var(--card);border-radius:12px;box-shadow:0 6px 24px rgba(0,0,0,0.08)}
h1,h2{text-align:center;color:var(--accent-dark)}
.section{margin:16px 0;padding:12px;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,0.04)}
.q{margin:10px 0;font-weight:700}
.opts{display:flex;flex-wrap:wrap;gap:12px;margin-top:6px}
.opts label{background:#f1f6fb;padding:9px 18px;border-radius:8px;cursor:pointer;border:1px solid rgba(0,0,0,0.04)}
input[type="radio"]{margin-left:6px}
.actions{text-align:center;margin-top:14px}
button{background:var(--accent);color:#fff;border:none;padding:10px 18px;border-radius:10px;font-size:1rem;cursor:pointer}
button:hover{background:var(--accent-dark)}
#resultBox{margin-top:14px;padding:12px;border-radius:10px;background:#fafafa;border:1px solid rgba(0,0,0,0.04);display:none}
.note{font-size:0.88rem;color:#666;margin-top:8px}
footer{text-align:center;margin-top:16px}
footer a{color:var(--accent);font-weight:700;text-decoration:none}
</style>
</head>
<body>

<div class="wrap">
<h1>Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø¥Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡ÙˆØ§ØªÙ ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…</h1>

<form id="mainForm">

<!-- Ø§Ù„Ø¬Ù†Ø³ -->
<div class="section">
  <div class="q">Ø§Ù„Ø¬Ù†Ø³ â€” Gender</div>
  <div class="opts">
    <label><input type="radio" name="gender" value="male" required> Ø°ÙƒØ± (Male)</label>
    <label><input type="radio" name="gender" value="female"> Ø£Ù†Ø«Ù‰ (Female)</label>
  </div>
</div>

<!-- SAS-SV -->
<div class="section">
  <h2>SAS-SV â€” Ù…Ù‚ÙŠØ§Ø³ Ø¥Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡Ø§ØªÙ (10 Ø¨Ù†ÙˆØ¯)</h2>
  <div class="note">Ø§Ø®ØªØ± Ù…Ù† 1 (Ù„Ø§ Ø£ÙˆØ§ÙÙ‚ Ø¨Ø´Ø¯Ø©) Ø¥Ù„Ù‰ 5 (Ø£ÙˆØ§ÙÙ‚ Ø¨Ø´Ø¯Ø©)</div>
  <div id="sasArea"></div>
</div>

<!-- PSQI -->
<div class="section">
  <h2>PSQI â€” Ù…Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ… (7 Ø¨Ù†ÙˆØ¯)</h2>
  <div class="q">1. ÙƒÙŠÙ ØªÙÙ‚ÙŠÙ‘Ù… Ø¬ÙˆØ¯Ø© Ù†ÙˆÙ…ÙƒØŸ (0 Ù…Ù…ØªØ§Ø² â€¦ 3 Ø³ÙŠØ¡ Ø¬Ø¯Ù‹Ø§)</div>
  <div class="opts">
    <label><input type="radio" name="s1" value="0" required>0 Ù…Ù…ØªØ§Ø²</label>
    <label><input type="radio" name="s1" value="1">1 Ø¬ÙŠØ¯</label>
    <label><input type="radio" name="s1" value="2">2 Ø³ÙŠØ¦</label>
    <label><input type="radio" name="s1" value="3">3 Ø³ÙŠØ¦ Ø¬Ø¯Ù‹Ø§</label>
  </div>
  <!-- Ø¨Ø§Ù‚ÙŠ 6 Ø£Ø³Ø¦Ù„Ø© Ù…Ø´Ø§Ø¨Ù‡Ø© -->
</div>

<div class="actions">
  <button type="submit">Ø¥Ø±Ø³Ø§Ù„ ÙˆØ­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
</div>
</form>

<div id="resultBox"></div>

<script>
const WEB_APP_URL="https://script.google.com/macros/s/AKfycbzyXw2z6FaKmRwuProOQ7TQ3rKkdwa5ZQK_XHjD5xtsu8W7oTie__YPEqfwuXYuqxQ/exec";

// SAS-SV Questions
const sasQs=[
  "Ø£ÙÙ‡Ù…ÙÙ„ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø®Ø·Ø·Ø© Ø¨Ø³Ø¨Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù…ÙŠ Ù„Ù„Ù‡Ø§ØªÙ.",
  "Ø£Ø¬Ø¯ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø³Ø¨Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ.",
  "Ø£Ø´Ø¹Ø± Ø¨Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ù…Ø¹ØµÙ… Ø£Ùˆ Ø§Ù„Ø±Ù‚Ø¨Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ.",
  "Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„ØªÙˆØªØ± Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ Ø£ÙƒÙˆÙ† Ù…Ù…Ø³ÙƒÙ‹Ø§ Ø¨Ø§Ù„Ù‡Ø§ØªÙ.",
  "Ø£ÙÙƒØ± ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ Ø­ØªÙ‰ Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ Ø£Ø³ØªØ®Ø¯Ù…Ù‡.",
  "Ø£Ù‚Ø¶ÙŠ ÙˆÙ‚ØªÙ‹Ø§ Ø£Ø·ÙˆÙ„ Ù…Ù…Ø§ Ø®Ø·Ø·Øª Ù„Ù‡ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ.",
  "ÙŠØ®Ø¨Ø±Ù†ÙŠ Ù…Ù† Ø­ÙˆÙ„ÙŠ Ø£Ù†Ù†ÙŠ Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙƒØ«ÙŠØ±Ù‹Ø§.",
  "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„ÙØªØ±Ø© Ø£Ø·ÙˆÙ„ Ù…Ù…Ø§ ÙƒÙ†Øª Ø£Ù†ÙˆÙŠ.",
  "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ù‡Ø±ÙˆØ¨ Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø¹Ø± Ø§Ù„Ø³Ù„Ø¨ÙŠØ©.",
  "Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„Ù‚Ù„Ù‚ Ø¹Ù†Ø¯Ù…Ø§ Ø£ÙƒÙˆÙ† Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù‡Ø§ØªÙ."
];

// generate SAS-SV HTML
let sasHTML="";
sasQs.forEach((t,i)=>{
  sasHTML+=`
  <div class="q">${i+1}. ${t}</div>
  <div class="opts">
    ${[1,2,3,4,5].map(v=>`<label><input type="radio" name="q${i+1}" value="${v}" required>${v}</label>`).join("")}
  </div>`;
});
document.getElementById("sasArea").innerHTML=sasHTML;

function getValue(name){
  const el=document.querySelector(`[name="${name}"]:checked`);
  return el?parseInt(el.value):null;
}

document.getElementById('mainForm').addEventListener('submit', async e=>{
  e.preventDefault();

  // calculate totals
  let sas=0;for(let i=1;i<=10;i++) sas+=getValue("q"+i);
  let psqi=0;for(let i=1;i<=7;i++) psqi+=getValue("s"+i);

  let gender=document.querySelector('[name="gender"]:checked')?.value;
  let sasTxt=(gender==="male"?(sas>=31?"Ø¥Ø¯Ù…Ø§Ù† Ù…Ø±ØªÙØ¹":"Ø·Ø¨ÙŠØ¹ÙŠ"):(sas>=33?"Ø¥Ø¯Ù…Ø§Ù† Ù…Ø±ØªÙØ¹":"Ø·Ø¨ÙŠØ¹ÙŠ"));
  let psqiTxt=psqi>=15?"Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø´Ø¯ÙŠØ¯":psqi>=10?"Ù†ÙˆÙ… Ø¶Ø¹ÙŠÙ":psqi>=5?"Ù…ØªÙˆØ³Ø·":"Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§";

  // show results
  let box=document.getElementById("resultBox");
  box.style.display="block";
  box.innerHTML=`<b>Ù†ØªØ§Ø¦Ø¬Ùƒ:</b><br>ğŸ”µ Ø¥Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡Ø§ØªÙ: ${sas} â€” ${sasTxt}<br>ğŸŸ£ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…: ${psqi} â€” ${psqiTxt}`;

  // send full data
  let items={};
  for(let i=1;i<=10;i++) items["q"+i]=getValue("q"+i);
  for(let i=1;i<=7;i++) items["s"+i]=getValue("s"+i);

  await fetch(WEB_APP_URL,{https://script.google.com/macros/s/AKfycbzyXw2z6FaKmRwuProOQ7TQ3rKkdwa5ZQK_XHjD5xtsu8W7oTie__YPEqfwuXYuqxQ/exec"}
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({sas,psqi,gender,items})
  });
});
</script>
</body>
</html>
